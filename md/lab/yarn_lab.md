## Facebookè£½ã®æ–°ã—ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ãƒ„ãƒ¼ãƒ«yarnã‚’è©¦ã—ã¦ã¿ã‚‹

img1

[yarn](https://yarnpkg.com)

Javascriptã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã¨ã„ãˆã°`npm`ã§ã™ãŒã€<br>
yarnã¯npmã«æ¯”ã¹ã¦ã©ã†ãªã®ã‹è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚

ã¨è¨€ã†è¨³ã§ã€æ—©é€Ÿè©¦ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

#### ç’°å¢ƒæº–å‚™ & ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
****

ç’°å¢ƒã¨ã—ã¦ã¯MacOSã€Windowsã€Linuxã§ä½¿ç”¨ã§ãã¾ã™ã€‚<br>
ç­†è€…ã®æ¤œè¨¼ç’°å¢ƒã¯MacOSã«ãªã‚Šã¾ã™ã€‚

å‰æã¨ã—ã¦**Node.js**ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚

ä»Šå›ã¯Homebrewã‚’ä½¿ã£ã¦yarnã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚<br>
ä»–ã«ã‚‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰ã‚„ã€tarballã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‹ã‚‰ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚

```sh
$ brew update
$ brew install yarn
```

#### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
****

yarnã¯`package.json`ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚‚ã§ãã‚‹ã®ã§ã€<br>
[ä»¥å‰](http://developabout0309.blogspot.jp/2016/09/react-1.html)Reacté–‹ç™ºç”¨ã§ã®package.jsonã‚’ä½¿ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

* package.json

```js
{
  "name": "Template",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "build": "webpack",
    "start": "webpack-dev-server --progress --colors",
    "lint": "eslint src --ext .js --ext .jsx"
  },
  "author": "",
  "license": "MIT",
  "devDependencies": {
    "babel-core": "^6.11.4",
    "babel-loader": "^6.2.4",
    "babel-preset-es2015": "^6.9.0",
    "babel-preset-react": "^6.11.1",
    "eslint": "^3.3.0",
    "eslint-plugin-react": "^6.2.0",
    "react": "^15.3.0",
    "react-dom": "^15.3.0",
    "webpack": "^1.13.2",
    "webpack-dev-server": "^1.16.1"
  }
}
```

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```sh
$ yarn install
yarn install v0.15.1
info No lockfile found.
[1/4] ğŸ”  Resolving packages...
[2/4] ğŸšš  Fetching packages...
[3/4] ğŸ”—  Linking dependencies...
[4/4] ğŸ“ƒ  Building fresh packages...
success Saved lockfile.
âœ¨  Done in 29.16s.
yarn install  14.32s user 5.98s system 68% cpu 29.814 total
```
â€»æ™‚é–“ã‚’è¨ˆæ¸¬ã™ã‚‹ç‚ºã«`time`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã¾ã™ã€‚

ãªã‚“ã‹çµµæ–‡å­—ãŒã‚ã£ãŸã‚Šnpmã‚ˆã‚Šã‚·ãƒ£ãƒ¬ãŸæ„Ÿã˜ã§ã™w<br>
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã«`yarn.lock`ãŒä½œæˆã•ã‚Œã¾ã™ã€‚

* yarn.lock

```
# THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
# yarn lockfile v1
abbrev@1:
  version "1.0.9"
  resolved "https://registry.yarnpkg.com/abbrev/-/abbrev-1.0.9.tgz#91b4792588a7738c25     f35dd6f63752a2f8776135"

accepts@~1.3.3:
  version "1.3.3"
  resolved "https://registry.yarnpkg.com/accepts/-/accepts-1.3.3.tgz#c3ca7434938648c3     e0d9c1e328dd68b622c284ca"
  dependencies:
    mime-types "~2.1.11"
    negotiator "0.6.1"

çœç•¥ãƒ»ãƒ»ãƒ»
```

package.jsonã‚ˆã‚Šç´°ã‹ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æƒ…å ±ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚<br>
ã¡ãªã¿ã«npmã§åŒæ§˜ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã¾ã—ãŸã€‚

```sh
$ npm install
...
npm install  33.22s user 8.36s system 95% cpu 43.549 total
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚é–“ã«é–¢ã—ã¦ã¯yarnãŒ`29.814s`ã€<br>
npmãŒ`43.549s`ãªã®ã§yarnã®æ–¹ãŒæ—©ã„ã§ã™ã€‚

ã¾ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®é‡è¤‡ã«é–¢ã—ã¦ã‚‚yarnã®æ–¹ãŒæ•´ç†ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>
è©¦ã—ã«`isarray`ãƒ‘ã‚±ãƒ¼ã‚¸ã‚’node_moduleså†…ã§æ¤œç´¢ã—ã¦ã¿ã‚‹ã¨

* npm

```sh
$ find . -name isarray -type d
./node_modules/fsevents/node_modules/isarray
./node_modules/isarray
./node_modules/node-libs-browser/node_modules/isarray
./node_modules/stream-browserify/node_modules/isarray
```

* yarn

```sh
$ find . -name isarray -type d
./node_modules/isarray
./node_modules/readable-stream/node_modules/isarray
```

yarnã®æ–¹ãŒæ•´ç†ã•ã‚Œã¦ã„ã¾ã™ã€‚

#### ãã®ä»–
****

yarnã¯npmåŒæ§˜ã«ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã¾ã™ã€‚

* `package.json`ä½œæˆ

```sh
$ yarn init
```

* ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ 

```sh
$ yarn add [package]
$ yarn add [package]@version
$ yarn add [package]@tag
```

* ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ›´æ–°

```sh
$ yarn upgrade [package]
$ yarn upgrade [package]@version
$ yarn upgrade [package]@tag
```

* ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å‰Šé™¤

```sh
$ yarn remove [package]
```

ã“ã†ãªã‚‹ã¨yarnã®æ–¹ãŒä¾¿åˆ©ãã†ã§ã™ãŒã€ã€<br>
ã—ã°ã‚‰ãnpmã®ä»£ã‚ã‚Šã«ä½¿ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚
